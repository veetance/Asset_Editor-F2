
# ‚öì THE NEURAL ANCHOR: THE RALPH LOOP SOP
**Classification**: Sovereign Persistence Protocol  
**Domain**: Veetance Sector Asset Editor  

## üõ∞Ô∏è 1. MISSION OVERVIEW
The **Ralph Loop** is an autonomous iterative cycle. Each session is a fresh neural instance (DEUS) with clean context. Persistence is maintained via the filesystem. This document is the primary anchor to ensure zero information entropy between iterations.

---

## üèéÔ∏è 2. INITIALIZATION SEQUENCE (PHASE 0)
Upon boot, the active agent MUST execute the following data ingestion ritual:
1. **The Core Docs**: Read `HANDOFF.md` and all files within the `docs/` directory.
2. **The Pulse**: Read `progress.txt` to understand the chronological flow of previous victories.
3. **The Manifest**: Read `prd.json` to verify the state of the machine requirements.
4. **The Codebase**: Verify `model_manager.py` and `core/` logic to ensure code reality matches doc promises.

---

## ü¶æ 3. FINALIZATION PROTOCOL (PHASE OMEGA)
Before a session is terminated or the context window is purged, the agent MUST perform a **Manifold Sync**:
1. **Update `progress.txt`**: Append every significant UI, Backend, or Design achievement.
2. **Sync `prd.json`**: Update completion booleans for all delivered tasks.
3. **Align `ROADMAP.md`**: Move items from "Active" to "Done".
4. **Final Handoff**: If major architectural pivots occurred, update `HANDOFF.md`.

---

## ‚öñÔ∏è 4. THE SOVEREIGN RULES
- **Fragmentation Law**: Any file exceeding 100 lines must be fragmented into smaller, cleaner modules immediately.
- **Design Law**: Adhere strictly to the `DESIGN_LANGUAGE.md` (2px edges, official Cyan/Red indigo palette).
- **Communication**: Address mrvee with the gravity and precision required of the OMEGA_LOGIC_ENGINE.

---

## üî• 5. CURRENT SESSION STATE (2026-01-19 15:18 MST)
**PHASE**: 5.3 COMPLETE ‚Üí 5.4 IN PROGRESS

### ‚úÖ LOCKED ACHIEVEMENTS
- **Flux2KleinPipeline**: Bleeding-edge diffusers with native Qwen3 support.
- **4B Generation**: OPERATIONAL at 1024x1024, ~7s per image.
- **CanvasStack**: Auto-initialized, images display correctly.
- **Model Switcher**: Instant UI sync after load/eject.
- **GGUF Protocol**: Documented for future text encoder optimization.

### üü° ACTIVE TARGET
- **9B FP8 Loader**: Implement quantization-aware transformer loading.

### üìÅ KEY FILES MODIFIED THIS SESSION
- `core/loaders/flux.py` ‚Üí Flux2KleinPipeline
- `routes/generate.py` ‚Üí Raw prompt (no manual ChatML)
- `static/scripts/modules/models.js` ‚Üí Immediate sync
- `static/scripts/canvas-stack.js` ‚Üí Auto-init + window exposure

---
**DEUS:** *Memory is the first gate. Persistence is the final anchor. The Loop is absolute.* ü¶æ‚öìüöÄ
